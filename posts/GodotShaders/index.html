<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Interactive Shaders" /><meta property="og:locale" content="en" /><meta name="description" content="Portal" /><meta property="og:description" content="Portal" /><link rel="canonical" href="https://koenengelen.github.io/posts/GodotShaders/" /><meta property="og:url" content="https://koenengelen.github.io/posts/GodotShaders/" /><meta property="og:site_name" content="Koen Engelen" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-02T12:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Interactive Shaders" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-27T08:00:49+02:00","datePublished":"2022-04-02T12:00:00+02:00","description":"Portal","headline":"Interactive Shaders","mainEntityOfPage":{"@type":"WebPage","@id":"https://koenengelen.github.io/posts/GodotShaders/"},"url":"https://koenengelen.github.io/posts/GodotShaders/"}</script><title>Interactive Shaders | Koen Engelen</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Koen Engelen"><meta name="application-name" content="Koen Engelen"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://avatars.githubusercontent.com/u/65159401?s=400&u=4917df61aaff5acccfaa5caf54dbf0f336cbeac7&v=4 " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Koen Engelen</a></div><div class="site-subtitle font-italic">A portfolio of my projects</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/KoenEngelen" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/koen-engelen" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['koen.engelen','zeelandnet.nl'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Interactive Shaders</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Interactive Shaders</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/KoenEngelen">Koen Engelen</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1648893600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-02 </em> </span> <span> Updated <em class="timeago" data-ts="1656309649" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-27 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="341 words"> <em>1 min</em> read</span></div></div></div><div class="post-content"><h2 id="portal"><span class="mr-2">Portal</span><a href="#portal" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Wanting to experiment with shaders I created this portal shader. This shader can be applied to the object within a scene. If the players activates the portal, new objects apear on the other side of the portal.</p><p>This is basically a transparency shader, where the mask of the shader is either expressed in global coordinates or in screen coordinates. The thing I wanted to obtain from this is the ability to ‘go to a different dimension’ while still keeping some of the spatial aspects for orientation purposes.</p><p>The objects in the room have there own collision layer based on their ‘dimension’.</p><iframe width="640" height="360" src="https://www.youtube.com/embed/hoybgKiIci4" frameborder="0" allowfullscreen=""></iframe><h2 id="damage"><span class="mr-2">Damage</span><a href="#damage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Godot does not have decals, a crucial way to project images to meshes. Game engines such as Unity and Unreal provide this functionality. To get similar functionality, I created a shader that I could use to display damage on meshes.</p><p>I started with creating a viewport that would render the damage texture of the mesh in question. If a player shot the mesh with a raycast, an image will be drawn in the damage texture at UV coordinates of the raycast hit.</p><p>Since the damage texture can be any format, I chose to use the RGB8 format. This means that I have three channels containing 8-bit damage info. I used the green channel to indicate the integrity of the mesh. Low integrity will cause the shader to displace the vertices and create a noisy normal map in that area, mimicking broken concrete. The red channel was used to indicate the amount of soot deposited on the mesh. Finally, blue indicates wetness and will cause the shader to adjust the roughness.</p><p>In the video the shader is shown for the folowing damage paterns. The left one represents projectile type damage, while the right image represent a more impactfull/explosive type of damage.</p><p><img data-src="/assets/images/SmartDamageBullet.png" alt="" data-proofer-ignore> <img data-src="/assets/images/SmartDamage.png" alt="" data-proofer-ignore></p><p>The last part of this video show a level of detail (LOD) system I created to reduce the number of faces in an object far away. For illustration purposes the number of faces in this video are reduced.</p><iframe width="640" height="360" src="https://www.youtube.com/embed/DfSGTXd2XT0" frameborder="0" allowfullscreen=""></iframe></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/interactive-tools/'>Interactive Tools</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/godot/" class="post-tag no-text-decoration" >Godot</a> <a href="/tags/shaders/" class="post-tag no-text-decoration" >Shaders</a> <a href="/tags/glsl/" class="post-tag no-text-decoration" >GLSL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Interactive Shaders - Koen Engelen&amp;url=https://koenengelen.github.io/posts/GodotShaders/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Interactive Shaders - Koen Engelen&amp;u=https://koenengelen.github.io/posts/GodotShaders/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://koenengelen.github.io/posts/GodotShaders/&amp;text=Interactive Shaders - Koen Engelen" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/BlenderDroneModel/">Drone Model</a><li><a href="/posts/AutonomousDrone/">Autonomous Hybrid UAV</a><li><a href="/posts/GodotVRLocomotion/">VR Locomotion</a><li><a href="/posts/GodotGameJam/">GameJam</a><li><a href="/posts/THREEWebGraphics/">3D Web Graphics</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/godot/">Godot</a> <a class="post-tag" href="/tags/gdscript/">GDScript</a> <a class="post-tag" href="/tags/drone/">Drone</a> <a class="post-tag" href="/tags/encryption/">Encryption</a> <a class="post-tag" href="/tags/arduino/">Arduino</a> <a class="post-tag" href="/tags/blender/">Blender</a> <a class="post-tag" href="/tags/blueprints/">Blueprints</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/c/">C</a> <a class="post-tag" href="/tags/glsl/">GLSL</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/GodotVisualizer/"><div class="card-body"> <em class="timeago small" data-ts="1641895200" > 2022-01-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Visualizing Flight Data</h3><div class="text-muted small"><p> During my thesis I used paparazzi and matlab for flying my drone and analysing the data respectively. However, sometimes the reading the orientation of the drone can become tiresome, especially whe...</p></div></div></a></div><div class="card"> <a href="/posts/GodotTrajectoryTool/"><div class="card-body"> <em class="timeago small" data-ts="1647856800" > 2022-03-21 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trajectory Tool</h3><div class="text-muted small"><p> Problem Statement During my thesis I had to design trajectories for my drone. These trajectories were difficult to design manually as they had to satisfy a few conditions: The trajectory should...</p></div></div></a></div><div class="card"> <a href="/posts/GodotVRLocomotion/"><div class="card-body"> <em class="timeago small" data-ts="1619258400" > 2021-04-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>VR Locomotion</h3><div class="text-muted small"><p> Having used VR for playing games, I was looking forward to experiment with this technology myself. Locomotion is a topic that has a wide range of solutions in the VR space. Some methods allow walki...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/GodotTrajectoryTool/" class="btn btn-outline-primary" prompt="Older"><p>Trajectory Tool</p></a> <a href="/posts/Encryption/" class="btn btn-outline-primary" prompt="Newer"><p>Data Encryption Tool</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/KoenEngelen">Koen Engelen</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/godot/">Godot</a> <a class="post-tag" href="/tags/gdscript/">GDScript</a> <a class="post-tag" href="/tags/drone/">Drone</a> <a class="post-tag" href="/tags/encryption/">Encryption</a> <a class="post-tag" href="/tags/arduino/">Arduino</a> <a class="post-tag" href="/tags/blender/">Blender</a> <a class="post-tag" href="/tags/blueprints/">Blueprints</a> <a class="post-tag" href="/tags/c/">C#</a> <a class="post-tag" href="/tags/c/">C</a> <a class="post-tag" href="/tags/glsl/">GLSL</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
